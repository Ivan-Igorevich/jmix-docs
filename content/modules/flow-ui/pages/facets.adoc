= Facets

Facets 是非可视化组件，用于为视图或组件添加辅助功能。

[[built-in]]
== 内置 Facets

框架提供下列 facets：

* xref:facets/dataLoadCoordinator.adoc[]
* xref:facets/settings.adoc[]
* xref:facets/timer.adoc[]
* xref:facets/urlQueryParameters.adoc[]

在 Jmix Studio 中添加 facet：

点击操作面板中的 *Add Component*，选择 *Facets*，然后双击需要添加的 facet 项。

image::facets/add-facet.png[align="center", width="769"]

Studio 会创建 `<facets>` 元素：

[source,xml,indent=0]
----
    <facets>
        <settings auto="true"/>
    </facets>
----

include::facets/facet-tip.adoc[]

[[custom]]
== 自定义 Facets

应用程序或者扩展组件可以提供自定义的 facets。按照下列步骤创建自定义 facet：

1. 创建一个接口，继承 `io.jmix.flowui.facet.Facet`。
2. 根据 `io.jmix.flowui.facet.impl.AbstractFacet` 创建一个实现类。
3. 创建一个 Spring bean 实现 `io.jmix.flowui.xml.facet.FacetProvider` 接口，使用自定义的 facet 类型作为参数。
4. 创建一个可用于视图 XML 中的 XSD 文件。
5. 可选，创建一个带注解标记的接口，这样可以支持在 Studio 的视图设计器中的 *Jmix UI* 面板展示该 facet。

具体实现请参考框架的 `DataLoadCoordinator` 和 `UrlQueryParametersFacet` 类。
