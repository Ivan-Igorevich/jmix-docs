= avatar 头像

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/avatar" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

`avatar` 是一个展示图片的区域，一般用来展示个人或公司的 logo。

* XML 元素：`avatar`

* Java 类：`Avatar`

[[basics]]
== 基本用法

下面的示例演示了为 `avatar` 设置内容的四个选项。

image::visual-components/components/avatar-basic.png[align="center", width="205"]

[source, xml, indent=0]
----
include::example$onboarding/src/main/resources/com/company/onboarding/view/component/avatar/avatar-view.xml[tags=basics]
----

注意属性是有优先级的。首先展示的是 <<image,image>>。如果没有设置 image 或无法渲染，则会用 <<abbreviation, abbreviation（缩写）>> 值替换。如果图片或缩写值均未提供，则显示 <<name, name>> 的开头几个字母。如果未设置任何内容，则显示保留图片。

[[image-resource]]
== 图片资源

`avatar` 组件可以展示来自不同资源的图片。可以通过 <<image, image>> 属性声明式地设置资源路径，或编程式设置。

[[static-image]]
=== 静态图片

应用程序可以提供静态图片地址。

默认情况下，静态内容在 classpath 的 `/static`、`/public`、`/resources` 或 `/META-INF/resources` 文件夹（详情请参考： https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.spring-mvc.static-content[Spring Boot 文档^]）。

* XML 中：
+
如果图片位于 `/src/main/resources/META-INF/resources`，比如 `/src/main/resources/META-INF/resources/icons/mary.png`，可以按照下列方式指定图片：
+
[source,xml,indent=0]
----
include::example$onboarding/src/main/resources/com/company/onboarding/view/component/avatar/avatar-view.xml[tags=static-image]
----
+
* Java 中：
+
[source,java,indent=0]
----
include::example$onboarding/src/main/java/com/company/onboarding/view/component/avatar/AvatarView.java[tags=static-image]
----

[[url-image]]
=== URL 图片

类似地，图片也可以通过任意 URL 加载。

* XML 中：
+
[source, xml, indent=0]
----
include::example$onboarding/src/main/resources/com/company/onboarding/view/component/avatar/avatar-view.xml[tags=url-image]
----

* Java 中：
+
[source,java,indent=0]
----
include::example$onboarding/src/main/java/com/company/onboarding/view/component/avatar/AvatarView.java[tags=url-image]
----

[[stream-image]]
=== 图片流

图片可以通过 `InputStream` 提供。

* Java 中：使用 `StreamResource` 接口。
+
[source,java,indent=0]
----
include::example$onboarding/src/main/java/com/company/onboarding/view/component/avatar/AvatarView.java[tags=stream-image]
----

== XML 属性

xref:vc/common-attributes.adoc#id[id] -
<<abbreviation, abbreviation>> -
xref:vc/common-attributes.adoc#alignSelf[alignSelf] -
xref:vc/common-attributes.adoc#classNames[classNames] -
<<colorIndex, colorIndex>> -
xref:vc/common-attributes.adoc#colspan[colspan] -
xref:vc/common-attributes.adoc#css[css] -
xref:vc/common-attributes.adoc#height[height] -
<<image, image>> -
xref:vc/common-attributes.adoc#maxHeight[maxHeight] -
xref:vc/common-attributes.adoc#maxWidth[maxWidth] -
xref:vc/common-attributes.adoc#minHeight[minHeight] -
xref:vc/common-attributes.adoc#minWidth[minWidth] -
<<name, name>> -
<<themeNames,themeNames>> -
xref:vc/common-attributes.adoc#visible[visible] -
xref:vc/common-attributes.adoc#width[width]

[[abbreviation]]
=== abbreviation

设置组件中显示的缩写内容。可以是姓名首字母，或者其他能标识头像所有者的缩写。最好控制在 2-3 个字符。

[[colorIndex]]
=== colorIndex

设置头像组件的背景颜色。支持 7 种不同的颜色，使用下标 0-6 表示。

image::visual-components/components/avatar-colorindex.png[align="center", width="360"]

[[image]]
=== image

设置图片资源的路径。图片可以是 <<static-image,静态资源>> 或 <<url-image,任意 URL>>。

[[name]]
=== name

设置头像所有者的名称。

[[themeNames]]
=== themeNames

该组件默认为标准的中等大小。支持 4 种不同的大小：

* `xsmall`
* `small`
* `large`
* `xlarge`

== 事件和处理器

xref:vc/common-handlers.adoc#AttachEvent[AttachEvent] -
xref:vc/common-handlers.adoc#DetachEvent[DetachEvent]

include::../handler-generation-tip.adoc[]

== 参考

https://vaadin.com/docs/latest/components/avatar[Vaadin 文档^]
