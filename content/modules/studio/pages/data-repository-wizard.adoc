= Data Repository 向导

Studio 提供了一个用于创建和管理 xref:data-access:data-repositories.adoc[data repositories] 的向导。

如需创建一个 repository，点击 *Jmix* 工具窗口的 *New → Data Repository*。

image::data-repository-create.png[align="center",width="241"]

在 *New Jmix Data Repository* 对话框中，选择一个实体并点击 *OK*。Studio 会创建 repository 接口，扩展自 xref:data-access:data-repositories.adoc#working-with-data-repositories[JmixDataRepository]，并在主应用程序类上添加 `@EnableJmixDataRepositories` 注解。

image::data-repository-wizard.png[align="center",width="592"]

当在编辑器打开 data repository 时，Studio 在顶部展示带两个按钮的操作面板。*Add Derived Method* 按钮可以用来创建一个从方法名引申查询语句的方法。*Add Query Method* 按钮可以用来创建一个带显式指定 JPQL 的方法。

image::data-repository-methods.png[align="center",width="655"]

两个方法都会打开特定的对话框，可以进一步配置查询语句和参数。

image::find-method-create.png[align="center",width="936"]

对 Repository 中已有的方法，Studio 在侧边栏显示一个 “齿轮” 图标。可以用于调整方法参数，比如添加排序或 fetch plan。也可以将查询语句抽取到 `@Query` 注解中，并按需修改方法名。

image::data-repository-methods-gear.png[align="center",width="756"]

为特定实体创建的 Data repositories 显示在 *Jmix* 工具窗口的 *Data Repositories* 部分。位于实体节点中。

image::data-repository-tool-window.png[align="center",width="518"]
