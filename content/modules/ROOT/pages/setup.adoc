[[setup-jmix-studio]]
= 配置

[[system]]
== 系统要求

请确认你的电脑满足下面的要求：

* 64位操作系统：Windows、Linux 或 macOS。

* 内存需要至少 8 GB（推荐 16 GB）。

* 硬盘剩余空间至少 20 GB。

[[studio]]
== 安装 Jmix Studio

*Jmix Studio* 是一款 IntelliJ IDEA 的插件。支持的 IntelliJ IDEA 最低版本是 {minimal-idea-version}。

如果你还没有安装 IntelliJ IDEA，可以从 {idea-download-site}[JetBrains 网站^] 下载 *Community（社区版）* 版本并安装。

IntelliJ IDEA 安装完成后，按照一下步骤安装 Jmix Studio：

. 启动 IntelliJ IDEA（{minimal-idea-version} 以上版本）。
. 在 IDEA 的启动界面点击 *Plugins* 按钮。
+
如果已经在 IDEA 中打开了项目，可以用主菜单打开配置页：*File* -> *Settings*（Windows/Linux）或 *IntelliJ IDEA* -> *Preferences*（macOS），然后切换至 *Plugins*。
. 点击 *Marketplace* 标签页。
. 在搜索框输入“jmix”，搜索结果中会列出 Jmix 插件。
. 点击 *Install* 然后按照 IDEA 的后续指导继续安装。
+
image::install-plugin.png[align="center"]

如需配置通过代理服务器访问网络或者安装非标准版的 Studio builds，请查阅 xref:studio:install.adoc#installation[Studio 安装] 章节。

NOTE: 如需使用 Studio 的高级功能，需要在 xref:studio:subscription.adoc[subscription] 弹窗配置订阅信息。

[[jdk]]
== 安装 JDK

// TIP: 此步骤是可选的，因为通过 Jmix Studio 创建项目时会自动下载 JDK，参阅 xref:studio:project.adoc#creating-new-project[新建项目] 章节。

下载 JDK 17（例如， https://adoptium.net/temurin/releases/?version=17[Eclipse Temurin^]），然后根据安装包的提示进行安装。这对于从 IDEA 中运行应用程序已经足够。

NOTE: Jmix {page-component-display-version} 支持使用任何供应商提供的 Java 17 构建应用程序。但是由于 OpenJ9-based JDK 之前出现过问题，我们不推荐使用这个版本。

如需同终端运行 Jmix 应用程序，需要设置 `JAVA_HOME` 环境变量：

* *Windows* - 打开环境变量配置页：*Computer* -> *Properties* -> *Advanced System Settings* -> *Advanced* -> *Environment variables*，创建 `JAVA_HOME` 变量，路径指向 JDK 安装的根目录。该变量需要添加在 *System variables* 列表中。

* *macOS*/*Linux* - 在 `~/.bash_profile`（或你的 shell 使用的其他环境文件中）内设置 `JAVA_HOME`，示例：
+
[source,bash]
----
export JAVA_HOME="/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home"
----

* 重启电脑，确认环境变量设置生效。

* 在控制台运行以下命令检查是否配置正确：
+
--

.Windows
[source,bash]
----
"%JAVA_HOME%\bin\java" -version
----

.Linux 和 macOS
[source,bash]
----
"$JAVA_HOME/bin/java" -version
----

该命令返回 Java 版本，例如：`17.0.9`。
--

CAUTION: 如果通过代理服务器连接至网络，必须给运行开发工具和 Gradle 的 JVM 传递一些 Java 系统参数。可以用 Jmix Studio xref:studio:install.adoc#working-behind-proxy[配置] 这些参数。

[[Troubleshooting]]
== 问题排查

根据项目大小，可能需要为 IntelliJ IDEA 和 Gradle 进程提供更多的内存。

. 在 IntelliJ IDEA 中，打开 *Help -> Edit Custom VM Options...*，编辑 `-Xmx` 参数（通常位于顶部）。推荐设置为 `2048m` 或更多，例如：
+
[source,text]
----
-Xmx2048m
----

. 编辑 `~/.gradle/gradle.properties` 文件，在 `org.gradle.jvmargs` 属性中设置 `-Xmx` 参数。推荐值为 `2048m` 或更多，例如：
+
[source,properties]
----
org.gradle.jvmargs=-Xmx2048m
----
