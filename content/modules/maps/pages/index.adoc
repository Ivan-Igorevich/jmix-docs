= 地图
:page-aliases: additional-options.adoc, canvas-layer.adoc, drawing-geometry.adoc, heatmap-layer.adoc, \
  layers.adoc, maps-ui.adoc, raster-layers.adoc, vector-layers.adoc

地图扩展组件提供了 `GeoMap` 组件和丰富的功能，支持开发者在 Web 应用程序中集成可交互的地理空间要素。

image::overview-map.png[align="center", width="598"]

[[overview]]
== 介绍

该扩展组件为应用程序提供了对空间数据的可视化展示和直观操作的功能。你可以选用符合你要求的地图供应商。

组件基于 https://openlayers.org/[OpenLayers^] JavaScript 库（v8.2.0）。默认情况所有 API 兼容 CRS - https://epsg.io/4326[EPSG:4326^]。

组件集成了 https://locationtech.github.io/jts/[JTS Topology Suite^]（JTS）的空间数据类型（点、多段线、多边形），JTS 是最流行的 Java 空间数据类型处理库。

组件支持专业 GIS 系统中传统的多图层展示结构。图层作为地图的结构性单元进行展示。

image::map-overview.png[align="center", width="769"]

[[features]]
== 要素

这些章节是地图组件的核心要素：

* xref:maps:layers-sources.adoc[图层]。该扩展组件支持下列图层类型：
** xref:maps:layers-sources.adoc#tile-layer[瓦片层（Tile）]
** xref:maps:layers-sources.adoc#image-layer[图像层（Image）]
** xref:maps:layers-sources.adoc#vector-layer[矢量层（Vector）]
+
这些图层构成了地图的结构单元。
* xref:maps:features-geometries.adoc#marker-feature[标记（Markers）] 是表示特定位置或点的地图元素。
* xref:maps:map-component.adoc#view[地图视图]。地图组件支持配置视图，包括中心点位置、缩放级别、旋转角度、投影定义。
* xref:maps:events.adoc[事件]。地图可以触发一些开发者能监听的事件，以便在用户交互时实现自定义的地图行为，事件包括地图点击事件、部件点击事件等。
* xref:maps:style.adoc[样式]。地图组件支持自定义标记图标并能为地图中的多种部件创建新样式，例如多边形、点等。

[[installation]]
== 安装

NOTE: 此扩展组件需要企业版 https://www.jmix.cn/subscription-plans-and-prices/[订阅^]。如果没有企业版订阅，可以按照 <<trial,下面>> 的方法进行试用。

请按照 xref:ROOT:add-ons.adoc#installation[扩展组件] 章节的介绍通过 Jmix 市场自动安装。

手动安装步骤：

. 配置 premium 仓库的访问
+
include::ROOT:partial$premium-repo.adoc[]

. 在 `build.gradle` 中添加依赖：
+
[source,groovy,indent=0]
----
implementation 'io.jmix.maps:jmix-maps-starter'
implementation 'io.jmix.maps:jmix-maps-flowui-starter'
----

[[trial]]
== 试用版

include::ROOT:partial$get-trial.adoc[]
