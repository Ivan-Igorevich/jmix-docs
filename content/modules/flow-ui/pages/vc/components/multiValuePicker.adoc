= multiValuePicker 多值选择器

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/value-picker-multi" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

`multiValuePicker` 可以处理任意类型值的列表。由文本框和一组由操作定义的按钮组成。

如果需要通过操作按钮而不是通过文本框输入的方式编辑值列表，那么使用 `multiValuePicker` 会比较方便。

* XML 元素：`multiValuePicker`

* Java 类：`JmixMultiValuePicker`

== 基本用法

`multiValuePicker` 的基本用法示例：

[[values-picker-example1]]
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/multivaluepicker/multi-value-picker-view.xml[tags=basics]
----

当用户点击选择按钮时，会展示 *Select Value（选择值）* 界面。用户可以在这个界面新建值或者从值列表中添加/删除。用户可以点击 *Add（添加）* 按钮或按下 *Enter* 添加值。

image::visual-components/components/multi-value-picker.gif[align="center",width="528"]

[[actions]]
== 操作

可以给 `multiValuePicker` 配置自定义或预定义的操作，作为按钮显示在右侧。
定义操作可以用 XML 中用内部的 `actions` 元素或者在控制器中用 `addAction()` 方法编程式添加。

[TIP]
====
如需在 Jmix Studio 中添加 `action`，可以在界面 XML 或者 *Jmix UI* 层级结构面板中选择组件，然后点击组件面板的 xref:studio:view-designer.adoc#add-action[Add] 按钮。
====

[[predefined-action]]
=== 预定义操作

框架提供了 `value_clear` 和 `multi_value_select` 预定义操作。

`multi_value_select` 操作使用一个值选择界面为 `multiValuePicker` 设置值。值选择界面会生成一个特定的组件用于选择值，或者根据传入的值类型创建值。

`multi_value_select` 操作可用来选择任意类型的值，示例：

* 选择特定的 Java 类型，例如，`String`、`Integer`、`Long`、`Double`、`BigDecimal`、`Date`、`LocalDate`、`LocalTime`、`LocalDateTime`、`OffsetTime`、`OffsetDateTime`、`Date`、`Time`、`UUID` 以及 `java.sql.Date`、`java.sql.Time`。
+
[[java-class]]
用 `javaClass` 属性设置选择值的 Java 类型。
+
在 <<values-picker-example1,上面>> 的示例中，`multi_value_select` 操作使用了 `java.lang.String` Java 类型。

* 选择 xref:data-model:enumerations.adoc[枚举] 值
+
[[enum-class]]
用 `enumClass` 属性设置选择值的枚举类型。
+
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/multivaluepicker/multi-value-picker-view.xml[tags=enum]
----
+
对于枚举值，*Select Value（选择值）* 界面会生成 `comboBox`。

* 选择 xref:data-model:entities.adoc[实体] 实例
+
[[entity-name]]
用 `entityName` 属性设置选择值的实体名称。
+
[source,xml,indent=0]
----
include::example$/onboarding/src/main/resources/com/company/onboarding/view/component/multivaluepicker/multi-value-picker-view.xml[tags=entity]
----
+
[[use-combo-box]]
`useComboBox` 属性指定在值选择界面中是否用 `entityComboBox`。默认为 `false`。

[[custom-actions]]
=== 自定义操作

`multiValuePicker` 的自定义操作与 `valuePicker` 的 xref:flow-ui:vc/components/valuePicker.adoc#custom-actions[自定义操作] 类似。

== XML 属性

xref:vc/common-attributes.adoc#id[id] -
xref:vc/common-attributes.adoc#alignSelf[alignSelf] -
xref:vc/components/valuePicker.adoc#allowCustomValue[allowCustomValue] -
xref:vc/common-attributes.adoc#autofocus[autofocus] -
xref:vc/common-attributes.adoc#classNames[classNames] -
xref:vc/common-attributes.adoc#colspan[colspan] -
xref:vc/common-attributes.adoc#css[css] -
xref:vc/common-attributes.adoc#dataContainer[dataContainer] -
xref:vc/common-attributes.adoc#enabled[enabled] -
xref:vc/common-attributes.adoc#errorMessage[errorMessage] -
xref:vc/common-attributes.adoc#height[height] -
xref:vc/common-attributes.adoc#helperText[helperText] -
xref:vc/common-attributes.adoc#invalid[invalid] -
xref:vc/common-attributes.adoc#label[label] -
xref:vc/common-attributes.adoc#maxHeight[maxHeight] -
xref:vc/common-attributes.adoc#maxWidth[maxWidth] -
xref:vc/common-attributes.adoc#minHeight[minHeight] -
xref:vc/common-attributes.adoc#minWidth[minWidth] -
xref:vc/common-attributes.adoc#placeholder[placeholder] -
xref:vc/common-attributes.adoc#property[property] -
xref:vc/common-attributes.adoc#readOnly[readOnly] -
xref:vc/common-attributes.adoc#required[required] -
xref:vc/common-attributes.adoc#requiredIndicatorVisible[requiredIndicatorVisible] -
xref:vc/common-attributes.adoc#requiredMessage[requiredMessage] -
xref:vc/common-attributes.adoc#tabIndex[tabIndex] -
xref:vc/common-attributes.adoc#themeNames[themeNames] -
xref:vc/common-attributes.adoc#title[title] -
xref:vc/common-attributes.adoc#visible[visible] -
xref:vc/common-attributes.adoc#width[width]

== 事件和处理器

xref:vc/common-handlers.adoc#AttachEvent[AttachEvent] -
xref:vc/common-handlers.adoc#BlurEvent[BlurEvent] -
xref:vc/common-handlers.adoc#ComponentValueChangeEvent[ComponentValueChangeEvent] -
xref:vc/components/valuePicker.adoc#CustomValueSetEvent[CustomValueSetEvent] -
xref:vc/common-handlers.adoc#DetachEvent[DetachEvent] -
xref:vc/common-handlers.adoc#FocusEvent[FocusEvent] -
xref:vc/components/valuePicker.adoc#formatter[formatter] -
xref:vc/common-handlers.adoc#statusChangeHandler[statusChangeHandler] -
xref:vc/components/textField.adoc#validator[validator]

include::../handler-generation-tip.adoc[]

== XML 内部元素

<<actions,actions>> -
xref:vc/miscellaneous/formatter.adoc[formatter] -
xref:vc/components/tooltip.adoc[tooltip] -
xref:vc/miscellaneous/validator.adoc[validator]
