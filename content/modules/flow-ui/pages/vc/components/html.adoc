= html

++++
<div class="jmix-ui-live-demo-container">
    <a href="https://demo.jmix.io/ui-samples/sample/html-component" class="live-demo-btn" target="_blank">在线示例</a>
</div>
++++

Jmix 提供了一组与标准 HTML 元素对应的 xref:vc/html.adoc[HTML 组件]。如果仍未包含你需要的元素，或者希望直接使用原生 HTML，可以用 `html` 组件。该组件支持渲染通过字符串、CDATA 或文件提供的 HTML。

* XML 元素：`html`

* Java 类：`Html`

[[basics]]
== 基本用法

以下示例展示了如何通过消息包的字符串提供 HTML 内容：

image::visual-components/components/html-basic.png[align="center", width="347"]

[source, xml, indent=0]
----
include::example$onboarding/src/main/resources/com/company/onboarding/view/component/html/html-view.xml[tags=basics]
----

.messages.properties
[source,properties,indent=0]
----
include::example$onboarding/src/main/resources/com/company/onboarding/messages_en.properties[tags=html-content]
----

通过 CDATA（字符数据）也可以提供相同的 HTML 内容：

[source, xml, indent=0]
----
include::example$onboarding/src/main/resources/com/company/onboarding/view/component/html/html-view.xml[tags=cdata]
----

这种方式可以保证 HTML 代码不会被当做 XML 的内容进行解析，从而能正确显示。

NOTE: HTML 代码中，只能包含一个根元素，例如，`<header>`、`<footer>`、`<main>` 或 `<div>`。根元素内可以有任意个 `<div>` 元素用于显示内容。

[[file-content]]
== 文件

HTML 代码也可以用下列方法之一通过文件提供。

[[static-resource]]
=== 静态资源

文件可以由应用程序静态托管。

NOTE: 默认情况下，静态内容托管在 classpath 的 `/static`、`/public`、`/resources` 或 `/META-INF/resources` 目录。详情参考： https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.servlet.spring-mvc.static-content[Spring Boot 文档^]。

假设文件位于：`/src/main/resources/META-INF/resources/html/html-file.html`，则可以这样使用：

[source,xml,indent=0]
----
include::example$onboarding/src/main/resources/com/company/onboarding/view/component/html/html-view.xml[tags=static]
----

[[stream-resource]]
=== 流资源

HTML 代码还可以通过文件的 `InputStream` 提供，然后组件可以使用这个流进行初始化。

NOTE: 该组件不能通过 `UiComponents` bean 创建，因为其不具有无参数构造器。

[source,java,indent=0]
----
include::example$onboarding/src/main/java/com/company/onboarding/view/component/html/HtmlView.java[tags=stream]
----

[[css-properties]]
== CSS 属性

使用 xref:vc/common-attributes.adoc#css[css] 属性声明式添加 CSS 样式。

[source, xml, indent=0]
----
include::example$onboarding/src/main/resources/com/company/onboarding/view/component/html/html-view.xml[tags=css-attribute]
----
//todo: link to themes section
或者，也可以在 应用程序的主题中添加自定义的 CSS 样式。

== XML 属性

xref:vc/common-attributes.adoc#id[id] -
xref:vc/common-attributes.adoc#alignSelf[alignSelf] -
xref:vc/common-attributes.adoc#classNames[classNames] -
xref:vc/common-attributes.adoc#colspan[colspan] -
<<content, content>> -
xref:vc/common-attributes.adoc#css[css] -
<<file, file>> -
xref:vc/common-attributes.adoc#visible[visible]

[[content]]
=== content

指定组件需要渲染的 HTML 内容，可以是消息包内的键值或者 CDATA。

[[file]]
=== file

指定获取 HTML 内容的文件路径。

== 事件和处理器

xref:vc/common-handlers.adoc#AttachEvent[AttachEvent] -
xref:vc/common-handlers.adoc#DetachEvent[DetachEvent]

include::../handler-generation-tip.adoc[]
